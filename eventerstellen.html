<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event erstellen</title>
    <link rel="stylesheet" href="css/eventerstellen.css" />
    <script src="js/eventerstellen.js"></script>

  </head>
  <body>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
          const params = new URLSearchParams(window.location.search);
          if (params.get('success') === '1') {
            alert("Event erfolgreich erstellt!");
          }
        });
      </script>
      
    <div class="logo-bar">
      <img src="assets/Blumen-Titel.png" alt="Blume" class="blumen-titel" />
      <img src="assets/Profilbild-Ruth.png" alt="Profil" class="profile-pic" />
    </div>

    <main class="form-container">
      <h1 class="form-title">Events erstellen</h1>

      <form action="php/eventerstellen.php" method="POST" enctype="multipart/form-data" class="event-form">
        <div class="image-upload" id="uploadBox">
          <label for="image">ðŸ“·</label>
          <input type="file" id="image" name="image" accept="image/*" required />
        </div>

        <label for="titel">Titel</label>
        <input type="text" id="titel" name="titel" placeholder="z. B. Spaziergang am Stausee" required />

        <label for="location">Standort</label>
        <input type="text" id="location" name="location" placeholder="Standort" required />

        <label for="uhrzeit">Uhrzeit</label>
        <input type="time" id="uhrzeit" name="uhrzeit" required />

        <label for="notizen">Notizen</label>
        <textarea id="notizen" name="notizen" placeholder="Schreibe deinen Text hier"></textarea>

        <label for="datum">Datum</label>
        <input type="date" id="datum" name="datum" required />

        <label for="email1">Ich mÃ¶chte einladen:<br><span class="sub">(E-Mail der teilnehmenden Personen)</span></label>
        <input type="email" name="emails[]" placeholder="E-Mail Adresse" />
        <input type="email" name="emails[]" placeholder="E-Mail Adresse" />
        <input type="email" name="emails[]" placeholder="E-Mail Adresse" />

        <button type="submit" class="submit-button">EVENT ERSTELLEN</button>
      </form>

      <div class="button-group">
        <a href="home.html" class="main-button">EVENTS</a>
        <a href="my-events.html" class="main-button">MEINE EVENTS</a>
        <a href="profil.html" class="main-button">PROFIL</a>
      </div>
    </main>

    <script>
      const imageInput = document.getElementById("image");
      const uploadBox = document.getElementById("uploadBox");

      imageInput.addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (event) {
            uploadBox.innerHTML = `<img src="${event.target.result}" alt="Preview" style="width:100%; height:100%; object-fit:cover; border-radius:10px;">`;
          };
          reader.readAsDataURL(file);
        }
      });
    </script>
  </body>
</html>
